<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
            <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
            <!-- <script src="app.mjs"></script> -->
        <title>Document</title>
    </head>
<body>
    <h1 class="text-center">Signup!</h1>
<form onsubmit="signUp(); return false">
    <div class="mb-3">
        <label for="fname" class="form-label">Name</label>
        <input type="text" name="name" id="firstName" required class="form-control">
    </div>
    <div class="mb-3">
        <label for="lname" class="form-label" >Last Name</label>
        <input type="text" class="form-control" name="lname" id="lastName" required>
    </div>
    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" name="email" id="email" required>
    </div>
    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" name="password" id="password" required>
    </div>
    <div class="mb-3">
        <label for="repassword" class="form-label">Confirm Password</label>
        <input type="password" class="form-control" name="repassword" id="repassword" required>
    </div>
    <div class="mb-3">
        <input type="submit" class="form-control">
    </div>
   
</form>
<div id="emailHelp" class="form-text">Already a user? Please login  <a  href="./login.html">Login</a></div>

<p id="message"></p>
<script>
    function signUp() {
let firstName = document.getElementById('firstName').value;
let lastName = document.getElementById('lastName').value;
let email = document.getElementById('email').value;
let password = document.getElementById('password').value;
let repassword = document.getElementById('repassword').value;
if(repassword!=password){
    document.getElementById("message").innerHTML="Password does not match"
    return;
}

axios.post('http://localhost:3000/signup', {
    firstName,
    lastName,
    email,
    password
})
    .then(function (response) {
        console.log(response.data);
        document.getElementById("message").innerHTML = response.data.message
    })
    .catch(function (error) {
        console.log(error);
        document.getElementById("message").innerHTML = error.response.data.message;
    });
}

</script>
</body>
</html>